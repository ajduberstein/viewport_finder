(this.webpackJsonpviewfinder=this.webpackJsonpviewfinder||[]).push([[0],{100:function(e,t){},104:function(e,t,n){},105:function(e,t,n){"use strict";n.r(t);var a=n(6),i=n.n(a),o=n(74),r=n.n(o),c=(n(97),n(75)),l=n(2),s=n(1),u=n(52),d=n(7),h=n(9),p=n(111),m=n(78),v=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return i.a.createElement(p.a,Object.assign({id:"json-deck"},this.props),i.a.createElement(m.a,{reuseMap:!0,mapboxApiAccessToken:this.props.mapboxApiAccessToken}))}}]),n}(a.Component),w=(n(104),{longitude:-122.41669,latitude:37.7853,zoom:13,pitch:0,bearing:0});var f=Object({NODE_ENV:"production",PUBLIC_URL:"/viewport_finder",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_MAPBOX_ACCESS_TOKEN:"pk.eyJ1IjoiZHViZXJzYWoxIiwiYSI6ImNrYmU0NjBuMjBpNTgyem80d3F4bzBpaWEifQ.IoQNyOjuv75L_cnYVsWjjA"}).REACT_APP_MAPBOX_API_TOKEN;function S(e,t){var n="https://nominatim.openstreetmap.org/search/".concat(e,"?format=json");fetch(n).then((function(e){return e.json()})).then((function(e){var n=e[0],a=n.lat,i=n.lon,o=function(e){var t,n=Object(h.a)(e,4),a=n[0],i=n[1],o=n[2],r=i-a,c=n[3]-o,l=c>r?c:r;return l<360/Math.pow(2,20)?t=21:(t=-1*(Math.log(l)/Math.log(2)-Math.log(360)/Math.log(2)))<1&&(t=1),t}(n.boundingbox);t({latitude:parseFloat(a),longitude:parseFloat(i),zoom:o})})).catch((function(e){t({}),console.error(e)}))}var E=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).handleKeyDown=function(e,t){if(13===e.keyCode||t){var n=e.target.value;if(!n)return;S(n,(function(e){var t=Object(c.a)({},a.state.viewState,{latitude:e.latitude||0,longitude:e.longitude||0,zoom:e.zoom||10}),i={searchText:n,viewState:t};a.setState({searches:a.state.searches.concat(i),viewState:t})}))}},a._updateViewState=function(e){var t=e.viewState,n=void 0===t?null:t,i=n.latitude,o=n.longitude,r=n.bearing,c=n.pitch,l=n.zoom;return a.setState({viewState:{latitude:i,longitude:o,bearing:r,pitch:c,zoom:l}}),n},a.state={viewState:{},searches:[]},a}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.setState({viewState:w})}},{key:"render",value:function(){var e=this,t=this.state.viewState;return i.a.createElement("div",{id:"app"},i.a.createElement("div",{id:"sidebar-div"},i.a.createElement("h1",{id:"header"},"Viewport Finder"),i.a.createElement("div",null,i.a.createElement("p",{id:"help"},"Viewport for use within mapping applications"),i.a.createElement("div",{id:"text-box"},i.a.createElement("p",null,JSON.stringify(t,null,"    ")))),i.a.createElement("div",null,this.state.searches.map((function(t){return i.a.createElement("div",{className:"searchlist",onClick:function(n){return e._updateViewState({viewState:t.viewState})}},t.searchText)}))),i.a.createElement("div",{id:"zoom-box"},i.a.createElement("label",null,"Zoom to region (OSM Nominatim)",i.a.createElement("br",null),i.a.createElement("input",{type:"text",defaultValue:"",onKeyDown:this.handleKeyDown,onBlur:function(t){return e.handleKeyDown(t,!0)}})))),i.a.createElement("div",{id:"deck-container"},i.a.createElement(v,{id:"json-deck",controller:!0,initialViewState:this.state.viewState,viewState:this.state.viewState,onViewStateChange:this._updateViewState,mapboxApiAccessToken:f})))}}]),n}(i.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(E,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},63:function(e,t){},92:function(e,t,n){e.exports=n(105)},97:function(e,t,n){}},[[92,1,2]]]);
//# sourceMappingURL=main.257d5a1f.chunk.js.map
(this.webpackJsonpviewfinder=this.webpackJsonpviewfinder||[]).push([[0],{100:function(e,t){},104:function(e,t,a){},105:function(e,t,a){"use strict";a.r(t);var n=a(6),i=a.n(n),o=a(74),r=a.n(o),c=(a(97),a(75)),l=a(2),s=a(1),u=a(52),d=a(7),p=a(9),v=a(111),h=a(78),m=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return i.a.createElement(v.a,Object.assign({id:"json-deck"},this.props),i.a.createElement(h.a,{reuseMap:!0,mapboxApiAccessToken:this.props.mapboxApiAccessToken}))}}]),a}(n.Component),w=(a(104),{longitude:-122.41669,latitude:37.7853,zoom:13,pitch:0,bearing:0});var f=Object({NODE_ENV:"production",PUBLIC_URL:"/viewport_finder",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_MAPBOX_ACCESS_TOKEN:"pk.eyJ1IjoiZHViZXJzYWoxIiwiYSI6ImNrYmU0NjBuMjBpNTgyem80d3F4bzBpaWEifQ.IoQNyOjuv75L_cnYVsWjjA"}).REACT_APP_MAPBOX_API_TOKEN;function S(e,t){var a="https://nominatim.openstreetmap.org/search/".concat(e,"?format=json");fetch(a).then((function(e){return e.json()})).then((function(e){var a=e[0],n=a.lat,i=a.lon,o=function(e){var t,a=Object(p.a)(e,4),n=a[0],i=a[1],o=a[2],r=i-n,c=a[3]-o,l=c>r?c:r;return l<360/Math.pow(2,20)?t=21:(t=-1*(Math.log(l)/Math.log(2)-Math.log(360)/Math.log(2)))<1&&(t=1),t}(a.boundingbox);t({latitude:parseFloat(n),longitude:parseFloat(i),zoom:o})})).catch((function(e){t({}),console.error(e)}))}var E=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).handleKeyDown=function(e){if(13===e.keyCode){var t=e.target.value;if(!t)return;S(t,(function(e){var a=Object(c.a)({},n.state.viewState,{latitude:e.latitude||0,longitude:e.longitude||0,zoom:e.zoom||10}),i={searchText:t,viewState:a};n.setState({searches:n.state.searches.concat(i),viewState:a})}))}},n._updateViewState=function(e){var t=e.viewState,a=void 0===t?null:t,i=a.latitude,o=a.longitude,r=a.bearing,c=a.pitch,l=a.zoom;return n.setState({viewState:{latitude:i,longitude:o,bearing:r,pitch:c,zoom:l}}),a},n.state={viewState:{},searches:[]},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.setState({viewState:w})}},{key:"render",value:function(){var e=this,t=this.state.viewState;return i.a.createElement("div",{id:"app"},i.a.createElement("div",{id:"sidebar-div"},i.a.createElement("div",null,i.a.createElement("h1",{id:"header"},"Viewport Finder"),i.a.createElement("p",null,"Find a viewport for use within mapping applications"),i.a.createElement("div",{id:"text-box"},i.a.createElement("p",null,JSON.stringify(t,null,"    ")))),i.a.createElement("div",null,this.state.searches.map((function(t){return i.a.createElement("div",{className:"searchlist",onClick:function(a){return e._updateViewState({viewState:t.viewState})}},t.searchText)}))),i.a.createElement("div",{id:"zoom-box"},i.a.createElement("label",null,"Zoom to region ",i.a.createElement("br",null),i.a.createElement("input",{type:"text",defaultValue:"",onKeyDown:this.handleKeyDown})))),i.a.createElement("div",{id:"deck-container"},i.a.createElement(m,{id:"json-deck",controller:!0,initialViewState:this.state.viewState,viewState:this.state.viewState,onViewStateChange:this._updateViewState,mapboxApiAccessToken:f})))}}]),a}(i.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(E,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},63:function(e,t){},92:function(e,t,a){e.exports=a(105)},97:function(e,t,a){}},[[92,1,2]]]);
//# sourceMappingURL=main.0a17b970.chunk.js.map